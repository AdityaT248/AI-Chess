(this["webpackJsonpai-chess"]=this["webpackJsonpai-chess"]||[]).push([[0],[,,,,,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var c=o(1),a=o.n(c),i=o(3),s=o.n(i),r=(o(8),o(9),o(10),o.p+"static/media/white-pawn.236f6686.svg"),l=o.p+"static/media/white-rook.51da5ea4.svg",n=o.p+"static/media/white-knight.6682d263.svg",h=o.p+"static/media/white-bishop.434cf6df.svg",d=o.p+"static/media/white-queen.2ec74f60.svg",b=o.p+"static/media/white-king.5933a366.svg",u=o.p+"static/media/black-pawn.3df4af41.svg",m=o.p+"static/media/black-rook.6208da08.svg",g=o.p+"static/media/black-knight.dbe602a6.svg",j=o.p+"static/media/black-bishop.d3b59849.svg",p=o.p+"static/media/black-queen.81d53079.svg",f=o.p+"static/media/black-king.5c3d9d02.svg",k=o(0);const w={white:{pawn:r,rook:l,knight:n,bishop:h,queen:d,king:b},black:{pawn:u,rook:m,knight:g,bishop:j,queen:p,king:f}},O=Object(c.memo)((e=>{let{row:t,col:o,piece:c,isLight:a,isSelected:i,isHighlighted:s,isCheck:r,isLastMove:l,isHint:n,squareColor:h,onClick:d}=e,b="square "+(a?"light":"dark");i&&(b+=" selected"),s&&(b+=" highlighted"),r&&(b+=" check"),l&&(b+=" last-move"),n&&(b+=" hint");const u={backgroundColor:h};return Object(k.jsx)("div",{className:b,style:u,onClick:d,children:c&&!c.captured&&Object(k.jsx)("img",{src:w[c.color][c.type],alt:`${c.color} ${c.type}`,className:`piece ${c.color}`})})})),v=Object(c.memo)((()=>Object(k.jsxs)("div",{className:"board-coordinates",children:[Object(k.jsx)("div",{className:"files",children:["a","b","c","d","e","f","g","h"].map((e=>Object(k.jsx)("div",{children:e},e)))}),Object(k.jsx)("div",{className:"ranks",children:["8","7","6","5","4","3","2","1"].map((e=>Object(k.jsx)("div",{children:e},e)))})]}))),y=Object(c.memo)((e=>{let{capturedPieces:t,color:o}=e;const c="white"===o?t.black:t.white;return 0===c.length?null:Object(k.jsx)("div",{className:"captured-row",children:c.map(((e,t)=>Object(k.jsx)("img",{src:w[e.color][e.type],alt:`${e.color} ${e.type}`,className:"captured-piece"},t)))})})),x=e=>{let{board:t,selectedPiece:o,onSquareClick:a,highlightedSquares:i,checkIndicator:s,lastMove:r,hintMove:l,theme:n}=e;const h=Object(c.useMemo)((()=>{const e={white:[],black:[]};return t.flat().forEach((t=>{t&&t.captured&&e[t.color].push(t)})),e}),[t]),d=Object(c.useMemo)((()=>{const e={};return i.forEach((t=>{e[`${t.row}-${t.col}`]=!0})),e}),[i]),b=Object(c.useMemo)((()=>{if(!r)return{};const{from:e,to:t}=r;return{[`${e.row}-${e.col}`]:!0,[`${t.row}-${t.col}`]:!0}}),[r]),u=Object(c.useMemo)((()=>{if(!l)return{};const{fromRow:e,fromCol:t,toRow:o,toCol:c}=l;return{[`${e}-${t}`]:!0,[`${o}-${c}`]:!0}}),[l]),m=Object(c.useMemo)((()=>{const e=[],c=(e,t)=>!!d[`${e}-${t}`],i=(e,t)=>!!b[`${e}-${t}`],r=(e,t)=>!!u[`${e}-${t}`];for(let l=0;l<8;l++)for(let h=0;h<8;h++){const d=t[l][h],b=(l+h)%2===0,u=o&&o.row===l&&o.col===h,m=s&&d&&"king"===d.type&&d.color===s,g=b?n.lightSquare:n.darkSquare;e.push(Object(k.jsx)(O,{row:l,col:h,piece:d,isLight:b,isSelected:u,isHighlighted:c(l,h),isCheck:m,isLastMove:i(l,h),isHint:r(l,h),squareColor:g,onClick:()=>a(l,h)},`${l}-${h}`))}return e}),[t,o,s,n,a,d,b,u]),g=Object(c.useMemo)((()=>({background:n.boardBg,"--highlight-color":n.highlightColor,"--check-color":n.checkColor,"--last-move-color":n.lastMoveColor,"--accent-color":n.accentColor})),[n]);return Object(k.jsxs)("div",{className:"chess-board-container",style:g,children:[Object(k.jsx)("div",{className:"chess-board",children:m}),Object(k.jsx)(v,{}),Object(k.jsxs)("div",{className:"captured-pieces",children:[Object(k.jsx)(y,{capturedPieces:h,color:"white"}),Object(k.jsx)(y,{capturedPieces:h,color:"black"})]})]})};var C=Object(c.memo)(x);o(12);var N=e=>{let{playerTurn:t,gameStatus:o,moveHistory:a,onResetGame:i,isInCheck:s,aiDifficulty:r,onGetHint:l,aiThinking:n,onDifficultyChange:h}=e;const[d,b]=Object(c.useState)("moves"),u=[];for(let c=0;c<a.length;c+=2)u.push({number:Math.floor(c/2)+1,white:a[c],black:a[c+1]});const m=(()=>{const e={pawn:1,knight:3,bishop:3,rook:5,queen:9,king:0};let t=0,o=0;a.forEach((c=>{c.capturedPiece&&("white"===c.capturedPiece.color?o+=e[c.capturedPiece.type]:t+=e[c.capturedPiece.type])}));const c=t-o;return c>0?{color:"white",value:c}:c<0?{color:"black",value:Math.abs(c)}:{color:"equal",value:0}})();return Object(k.jsxs)("div",{className:"game-info",children:[Object(k.jsx)("h2",{children:"Game Status"}),(()=>{let e="";return e="ongoing"===o?("white"===t?"White":"Black")+"'s turn":o.includes("checkmate")?o:o.includes("stalemate")?"Draw by stalemate":o,Object(k.jsxs)("div",{className:"status-container",children:[Object(k.jsxs)("div",{className:"status",children:[e,n&&"black"===t&&Object(k.jsxs)("div",{className:"ai-thinking",children:[Object(k.jsx)("span",{children:"AI is thinking"}),Object(k.jsxs)("div",{className:"thinking-dots",children:[Object(k.jsx)("span",{className:"dot"}),Object(k.jsx)("span",{className:"dot"}),Object(k.jsx)("span",{className:"dot"})]})]})]}),Object(k.jsxs)("div",{className:"player-indicators",children:[Object(k.jsxs)("div",{className:"player-indicator "+("white"===t?"active":""),children:[Object(k.jsx)("span",{className:"white",children:"White"}),s&&"white"===t&&Object(k.jsx)("span",{className:"check-indicator",children:"CHECK!"})]}),Object(k.jsxs)("div",{className:"player-indicator "+("black"===t?"active":""),children:[Object(k.jsx)("span",{className:"black",children:"Black"}),s&&"black"===t&&Object(k.jsx)("span",{className:"check-indicator",children:"CHECK!"})]})]}),s&&"ongoing"===o&&Object(k.jsxs)("div",{className:"check-status",children:["white"===s?"White":"Black"," is in check!"]}),"ongoing"!==o&&Object(k.jsx)("div",{className:"game-over",children:o}),Object(k.jsxs)("div",{className:"button-container",children:[Object(k.jsx)("button",{className:"reset-button",onClick:i,children:"New Game"}),Object(k.jsx)("button",{className:"hint-button",onClick:l,disabled:"ongoing"!==o||"white"!==t||n,children:"Hint"})]})]})})(),Object(k.jsxs)("div",{className:"tabs",children:[Object(k.jsx)("div",{className:"tab "+("moves"===d?"active":""),onClick:()=>b("moves"),children:"Moves"}),Object(k.jsx)("div",{className:"tab "+("analysis"===d?"active":""),onClick:()=>b("analysis"),children:"Analysis"})]}),Object(k.jsx)("div",{className:"tab-content",children:"moves"===d?0===a.length?Object(k.jsx)("div",{className:"no-moves",children:"No moves yet"}):Object(k.jsx)("div",{className:"moves-container",children:Object(k.jsxs)("table",{className:"moves-table",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"#"}),Object(k.jsx)("th",{children:"White"}),Object(k.jsx)("th",{children:"Black"})]})}),Object(k.jsx)("tbody",{children:u.map((e=>Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"move-number",children:e.number}),Object(k.jsx)("td",{className:"white-move",children:e.white?e.white.notation:""}),Object(k.jsx)("td",{className:"black-move",children:e.black?e.black.notation:""})]},e.number)))})]})}):(()=>{const e={easy:3,medium:4,hard:5}[r];return Object(k.jsxs)("div",{className:"analysis-container",children:[Object(k.jsxs)("div",{className:"analysis-item",children:[Object(k.jsx)("span",{className:"analysis-label",children:"Total Moves"}),Object(k.jsx)("span",{className:"analysis-value",children:a.length})]}),Object(k.jsxs)("div",{className:"analysis-item",children:[Object(k.jsx)("span",{className:"analysis-label",children:"Material Advantage"}),Object(k.jsx)("span",{className:`analysis-value material-advantage ${m.color}`,children:"equal"===m.color?"Equal":`+${m.value} for ${m.color}`})]}),Object(k.jsxs)("div",{className:"analysis-item",children:[Object(k.jsx)("span",{className:"analysis-label",children:"AI Thinking Depth"}),Object(k.jsxs)("span",{className:"analysis-value",children:[e," ",1===e?"move":"moves"]})]}),Object(k.jsxs)("div",{className:"analysis-item",children:[Object(k.jsx)("span",{className:"analysis-label",children:"AI Status"}),Object(k.jsx)("span",{className:"analysis-value",children:n?Object(k.jsx)("span",{className:"ai-thinking-status",children:"Calculating..."}):Object(k.jsx)("span",{className:"ai-ready-status",children:"Ready"})})]})]})})()}),Object(k.jsxs)("div",{className:"difficulty-section",children:[Object(k.jsx)("label",{children:"AI Difficulty:"}),Object(k.jsxs)("div",{className:"difficulty-buttons",children:[Object(k.jsx)("button",{className:"difficulty-button "+("easy"===r?"active":""),onClick:()=>h("easy"),disabled:n,children:"Easy"}),Object(k.jsx)("button",{className:"difficulty-button "+("medium"===r?"active":""),onClick:()=>h("medium"),disabled:n,children:"Medium"}),Object(k.jsx)("button",{className:"difficulty-button "+("hard"===r?"active":""),onClick:()=>h("hard"),disabled:n,children:"Hard"})]})]})]})};o(13);var M=e=>{let{position:t,color:o,onSelect:c,onCancel:a}=e;const i={white:{queen:d,rook:l,bishop:h,knight:n},black:{queen:p,rook:m,bishop:j,knight:g}};return Object(k.jsx)("div",{className:"promotion-dialog-backdrop",onClick:a,children:Object(k.jsxs)("div",{className:"promotion-dialog",style:{top:t.y,left:t.x},onClick:e=>e.stopPropagation(),children:[Object(k.jsx)("div",{className:"promotion-title",children:"Promote to:"}),Object(k.jsx)("div",{className:"promotion-options",children:["queen","rook","bishop","knight"].map((e=>Object(k.jsxs)("div",{className:"promotion-piece",onClick:()=>c(e),children:[Object(k.jsx)("img",{src:i[o][e],alt:`${o} ${e}`,className:"promotion-piece-image"}),Object(k.jsx)("div",{className:"promotion-piece-name",children:e})]},e)))})]})})};o(14);var S={classic:{name:"Classic",lightSquare:"#f0d9b5",darkSquare:"#b58863",highlightColor:"rgba(78, 205, 196, 0.7)",checkColor:"rgba(255, 107, 107, 0.6)",lastMoveColor:"rgba(255, 209, 102, 0.4)",boardBg:"linear-gradient(135deg, rgba(30, 41, 59, 0.9), rgba(15, 23, 42, 0.9))",accentColor:"#4ecdc4"},blue:{name:"Ocean Blue",lightSquare:"#dee3e6",darkSquare:"#8ca2ad",highlightColor:"rgba(106, 168, 79, 0.7)",checkColor:"rgba(244, 67, 54, 0.6)",lastMoveColor:"rgba(255, 193, 7, 0.4)",boardBg:"linear-gradient(135deg, rgba(25, 118, 210, 0.9), rgba(13, 71, 161, 0.9))",accentColor:"#03a9f4"},dark:{name:"Midnight",lightSquare:"#6b7987",darkSquare:"#2e3947",highlightColor:"rgba(121, 134, 203, 0.7)",checkColor:"rgba(255, 82, 82, 0.6)",lastMoveColor:"rgba(255, 215, 64, 0.4)",boardBg:"linear-gradient(135deg, rgba(20, 20, 31, 0.9), rgba(10, 10, 18, 0.9))",accentColor:"#9c27b0"},green:{name:"Forest",lightSquare:"#eeeed2",darkSquare:"#769656",highlightColor:"rgba(119, 149, 86, 0.7)",checkColor:"rgba(255, 97, 97, 0.6)",lastMoveColor:"rgba(255, 213, 79, 0.4)",boardBg:"linear-gradient(135deg, rgba(27, 94, 32, 0.9), rgba(46, 125, 50, 0.9))",accentColor:"#8bc34a"},coral:{name:"Coral",lightSquare:"#fce4ec",darkSquare:"#f06292",highlightColor:"rgba(128, 203, 196, 0.7)",checkColor:"rgba(255, 82, 82, 0.6)",lastMoveColor:"rgba(255, 202, 40, 0.4)",boardBg:"linear-gradient(135deg, rgba(216, 27, 96, 0.9), rgba(142, 36, 170, 0.9))",accentColor:"#00bcd4"}};var q=e=>{let{currentTheme:t,onThemeChange:o}=e;return Object(k.jsxs)("div",{className:"theme-selector",children:[Object(k.jsx)("div",{className:"theme-selector-label",children:"Board Theme:"}),Object(k.jsx)("div",{className:"theme-options",children:Object.keys(S).map((e=>Object(k.jsxs)("div",{className:"theme-option "+(t===e?"active":""),onClick:()=>o(e),title:S[e].name,children:[Object(k.jsx)("div",{className:"theme-preview",style:{background:`linear-gradient(135deg, \n                  ${S[e].lightSquare} 0%, \n                  ${S[e].lightSquare} 50%, \n                  ${S[e].darkSquare} 50%, \n                  ${S[e].darkSquare} 100%)`}}),Object(k.jsx)("span",{className:"theme-name",children:S[e].name})]},e)))})]})};const $=()=>{const e=Array(8).fill().map((()=>Array(8).fill(null)));for(let t=0;t<8;t++)e[1][t]={type:"pawn",color:"black",hasMoved:!1},e[6][t]={type:"pawn",color:"white",hasMoved:!1};return e[0][0]={type:"rook",color:"black",hasMoved:!1},e[0][7]={type:"rook",color:"black",hasMoved:!1},e[7][0]={type:"rook",color:"white",hasMoved:!1},e[7][7]={type:"rook",color:"white",hasMoved:!1},e[0][1]={type:"knight",color:"black",hasMoved:!1},e[0][6]={type:"knight",color:"black",hasMoved:!1},e[7][1]={type:"knight",color:"white",hasMoved:!1},e[7][6]={type:"knight",color:"white",hasMoved:!1},e[0][2]={type:"bishop",color:"black",hasMoved:!1},e[0][5]={type:"bishop",color:"black",hasMoved:!1},e[7][2]={type:"bishop",color:"white",hasMoved:!1},e[7][5]={type:"bishop",color:"white",hasMoved:!1},e[0][3]={type:"queen",color:"black",hasMoved:!1},e[7][3]={type:"queen",color:"white",hasMoved:!1},e[0][4]={type:"king",color:"black",hasMoved:!1},e[7][4]={type:"king",color:"white",hasMoved:!1},e},R=(e,t,o,c)=>{const a="white"===c?-1:1;if(t-a>=0&&t-a<8){if(o-1>=0){const i=e[t-a][o-1];if(i&&"pawn"===i.type&&i.color===c)return!0}if(o+1<8){const i=e[t-a][o+1];if(i&&"pawn"===i.type&&i.color===c)return!0}}const i=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]];for(const[r,l]of i){const a=t+r,i=o+l;if(a>=0&&a<8&&i>=0&&i<8){const t=e[a][i];if(t&&"knight"===t.type&&t.color===c)return!0}}const s=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[r,l]of s){let a=t+r,i=o+l;for(;a>=0&&a<8&&i>=0&&i<8;){const s=e[a][i];if(s){if(s.color===c){if("queen"===s.type||"bishop"===s.type&&Math.abs(r)===Math.abs(l)||"rook"===s.type&&(0===r||0===l))return!0;if("king"===s.type&&Math.abs(a-t)<=1&&Math.abs(i-o)<=1)return!0}break}a+=r,i+=l}}return!1},P=(e,t,o)=>{const c=((e,t)=>{for(let o=0;o<8;o++)for(let c=0;c<8;c++){const a=e[o][c];if(a&&"king"===a.type&&a.color===t)return{row:o,col:c}}return null})(e,t);if(!c)return!1;const a="white"===t?"black":"white";return R(e,c.row,c.col,a)},T=(e,t,o,c,a,i,s)=>{const r=(e=>JSON.parse(JSON.stringify(e)))(e),l=r[t][o];if("pawn"===l.type&&o!==a&&!r[c][a]&&s&&s.enPassantTarget&&c===s.enPassantTarget.row&&a===s.enPassantTarget.col){r["white"===i?c+1:c-1][a]=null}return"king"===l.type&&2===Math.abs(o-a)&&(a>o?(r[c][a-1]=r[c][7],r[c][7]=null):(r[c][a+1]=r[c][0],r[c][0]=null)),r[c][a]=r[t][o],r[t][o]=null,P(r,i)},A=(e,t,o,c,a,i)=>{if(t<0||t>7||o<0||o>7||c<0||c>7||a<0||a>7)return!1;const s=e[t][o];if(!s)return!1;const r=e[c][a];if(r&&r.color===s.color)return!1;if(r&&"king"===r.type)return!1;let l=!1;switch(s.type){case"pawn":l=E(e,t,o,c,a,i);break;case"knight":l=I(t,o,c,a);break;case"bishop":l=D(e,t,o,c,a);break;case"rook":l=B(e,t,o,c,a);break;case"queen":l=H(e,t,o,c,a);break;case"king":l=J(e,t,o,c,a,i);break;default:l=!1}return(!l||!T(e,t,o,c,a,s.color,i))&&l},E=(e,t,o,c,a,i)=>{const s=e[t][o],r="white"===s.color?-1:1;if(o===a&&c===t+r&&!e[c][a])return!0;if(o===a&&("white"===s.color&&6===t||"black"===s.color&&1===t)&&c===t+2*r&&!e[t+r][o]&&!e[c][a])return!0;if(1===Math.abs(o-a)&&c===t+r){if(e[c][a]&&e[c][a].color!==s.color)return!0;if(!e[c][a]&&i&&i.enPassantTarget&&c===i.enPassantTarget.row&&a===i.enPassantTarget.col)return!0}return!1},B=(e,t,o,c,a)=>{if(t!==c&&o!==a)return!1;if(t===c){const c=Math.min(o,a),i=Math.max(o,a);for(let o=c+1;o<i;o++)if(e[t][o])return!1}else{const a=Math.min(t,c),i=Math.max(t,c);for(let t=a+1;t<i;t++)if(e[t][o])return!1}return!0},I=(e,t,o,c)=>{const a=Math.abs(e-o),i=Math.abs(t-c);return 2===a&&1===i||1===a&&2===i},D=(e,t,o,c,a)=>{const i=Math.abs(t-c);if(i!==Math.abs(o-a))return!1;const s=t<c?1:-1,r=o<a?1:-1;for(let l=1;l<i;l++)if(e[t+l*s][o+l*r])return!1;return!0},H=(e,t,o,c,a)=>B(e,t,o,c,a)||D(e,t,o,c,a),J=(e,t,o,c,a,i)=>{const s=e[t][o],r=Math.abs(t-c),l=Math.abs(o-a);if(r<=1&&l<=1)return!0;if(0===r&&2===l&&!s.hasMoved&&!P(e,s.color))if(a>o){const o=e[t][7];if(o&&"rook"===o.type&&o.color===s.color&&!o.hasMoved&&!e[t][5]&&!e[t][6]){const o="white"===s.color?"black":"white";if(!R(e,t,5,o)&&!R(e,t,6,o))return!0}}else{const o=e[t][0];if(o&&"rook"===o.type&&o.color===s.color&&!o.hasMoved&&!e[t][1]&&!e[t][2]&&!e[t][3]){const o="white"===s.color?"black":"white";if(!R(e,t,2,o)&&!R(e,t,3,o))return!0}}return!1},G=(e,t)=>!(!e||"pawn"!==e.type)&&("white"===e.color&&0===t||"black"===e.color&&7===t),W=function(e,t,o,c,a,i){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const r=JSON.parse(JSON.stringify(e)),l=JSON.parse(JSON.stringify(i||{enPassantTarget:null,castlingRights:{white:{kingSide:!0,queenSide:!0},black:{kingSide:!0,queenSide:!0}}})),n=r[t][o],h=r[c][a];let d=h;if("king"===n.type&&2===Math.abs(o-a)&&(a>o?(r[c][a-1]=r[c][7],r[c][a-1].hasMoved=!0,r[c][7]=null):(r[c][a+1]=r[c][0],r[c][a+1].hasMoved=!0,r[c][0]=null)),"pawn"===n.type&&o!==a&&!h){const e=t;d=r[e][a],r[e][a]=null}if(l.enPassantTarget=null,"pawn"===n.type&&2===Math.abs(t-c)){const e="white"===n.color?-1:1;l.enPassantTarget={row:t+e,col:o}}return"king"===n.type?(l.castlingRights[n.color].kingSide=!1,l.castlingRights[n.color].queenSide=!1):"rook"===n.type&&(7===t&&0===o&&"white"===n.color?l.castlingRights.white.queenSide=!1:7===t&&7===o&&"white"===n.color?l.castlingRights.white.kingSide=!1:0===t&&0===o&&"black"===n.color?l.castlingRights.black.queenSide=!1:0===t&&7===o&&"black"===n.color&&(l.castlingRights.black.kingSide=!1)),"pawn"===n.type&&G(n,c)&&s?r[c][a]={type:s,color:n.color,hasMoved:!0}:(r[c][a]=n,r[c][a].hasMoved=!0),r[t][o]=null,{board:r,gameState:l,capturedPiece:d}},F=(e,t,o)=>{if(!P(e,t))return!1;for(let c=0;c<8;c++)for(let a=0;a<8;a++){const i=e[c][a];if(i&&i.color===t)for(let t=0;t<8;t++)for(let i=0;i<8;i++)if(A(e,c,a,t,i,o))return!1}return!0},L=(e,t,o)=>{if(P(e,t))return!1;for(let c=0;c<8;c++)for(let a=0;a<8;a++){const i=e[c][a];if(i&&i.color===t)for(let t=0;t<8;t++)for(let i=0;i<8;i++)if(A(e,c,a,t,i,o))return!1}return!0},K={pawn:100,knight:320,bishop:330,rook:500,queen:900,king:2e4},U={pawn:[[0,0,0,0,0,0,0,0],[50,50,50,50,50,50,50,50],[10,10,20,30,30,20,10,10],[5,5,10,25,25,10,5,5],[0,0,0,20,20,0,0,0],[5,-5,-10,0,0,-10,-5,5],[5,10,10,-20,-20,10,10,5],[0,0,0,0,0,0,0,0]],knight:[[-50,-40,-30,-30,-30,-30,-40,-50],[-40,-20,0,0,0,0,-20,-40],[-30,0,10,15,15,10,0,-30],[-30,5,15,20,20,15,5,-30],[-30,0,15,20,20,15,0,-30],[-30,5,10,15,15,10,5,-30],[-40,-20,0,5,5,0,-20,-40],[-50,-40,-30,-30,-30,-30,-40,-50]],bishop:[[-20,-10,-10,-10,-10,-10,-10,-20],[-10,0,0,0,0,0,0,-10],[-10,0,10,10,10,10,0,-10],[-10,5,5,10,10,5,5,-10],[-10,0,5,10,10,5,0,-10],[-10,10,10,10,10,10,10,-10],[-10,5,0,0,0,0,5,-10],[-20,-10,-10,-10,-10,-10,-10,-20]],rook:[[0,0,0,0,0,0,0,0],[5,10,10,10,10,10,10,5],[-5,0,0,0,0,0,0,-5],[-5,0,0,0,0,0,0,-5],[-5,0,0,0,0,0,0,-5],[-5,0,0,0,0,0,0,-5],[-5,0,0,0,0,0,0,-5],[0,0,0,5,5,0,0,0]],queen:[[-20,-10,-10,-5,-5,-10,-10,-20],[-10,0,0,0,0,0,0,-10],[-10,0,5,5,5,5,0,-10],[-5,0,5,5,5,5,0,-5],[0,0,5,5,5,5,0,-5],[-10,5,5,5,5,5,0,-10],[-10,0,5,0,0,0,0,-10],[-20,-10,-10,-5,-5,-10,-10,-20]],king:[[-30,-40,-40,-50,-50,-40,-40,-30],[-30,-40,-40,-50,-50,-40,-40,-30],[-30,-40,-40,-50,-50,-40,-40,-30],[-30,-40,-40,-50,-50,-40,-40,-30],[-20,-30,-30,-40,-40,-30,-30,-20],[-10,-20,-20,-20,-20,-20,-20,-10],[20,20,0,0,0,0,20,20],[20,30,10,0,0,10,30,20]],kingEndgame:[[-50,-40,-30,-20,-20,-30,-40,-50],[-30,-20,-10,0,0,-10,-20,-30],[-30,-10,20,30,30,20,-10,-30],[-30,-10,30,40,40,30,-10,-30],[-30,-10,30,40,40,30,-10,-30],[-30,-10,20,30,30,20,-10,-30],[-30,-30,0,0,0,0,-30,-30],[-50,-30,-30,-30,-30,-30,-30,-50]]},z=new Map,Q=(e,t)=>{if(F(e,"black",t))return 1e4;if(F(e,"white",t))return-1e4;if(L(e,"white",t)||L(e,"black",t))return 0;let o=0;const c=(e=>{let t=0;for(let o=0;o<8;o++)for(let c=0;c<8;c++){const a=e[o][c];a&&"king"!==a.type&&"pawn"!==a.type&&(t+=K[a.type])}return t})(e),a=c<3e3;for(let i=0;i<8;i++)for(let t=0;t<8;t++){const c=e[i][t];if(!c)continue;const s=K[c.type];let r;r="king"===c.type&&a?"white"===c.color?U.kingEndgame[i][t]:U.kingEndgame[7-i][t]:"white"===c.color?U[c.type][i][t]:U[c.type][7-i][t];let l=0;if("knight"!==c.type&&"bishop"!==c.type||("white"===c.color&&i<6||"black"===c.color&&i>1)&&(l+=10),"pawn"===c.type){l+="white"===c.color?5*(6-i):5*(i-1),("white"===c.color&&i<=1||"black"===c.color&&i>=6)&&(l+=50);let o=0;for(let a=0;a<8;a++)a!==i&&e[a][t]&&"pawn"===e[a][t].type&&e[a][t].color===c.color&&o++;l-=20*o,t>0&&e[i][t-1]&&"pawn"===e[i][t-1].type&&e[i][t-1].color===c.color&&(l+=10),t<7&&e[i][t+1]&&"pawn"===e[i][t+1].type&&e[i][t+1].color===c.color&&(l+=10)}if("bishop"===c.type){let o=!1;for(let a=0;a<8;a++){for(let s=0;s<8;s++)if(a!==i||s!==t){const t=e[a][s];if(t&&"bishop"===t.type&&t.color===c.color){o=!0;break}}if(o)break}o&&(l+=50)}if("rook"===c.type){let o=!0;for(let c=0;c<8;c++)if(e[c][t]&&"pawn"===e[c][t].type){o=!1;break}o&&(l+=30)}const n=s+r+l;"white"===c.color?o+=n:o-=n}return P(e,"black")&&(o+=50),P(e,"white")&&(o-=50),o},Y=(e,t,o)=>{const c=[];for(let a=0;a<8;a++)for(let i=0;i<8;i++){const s=e[a][i];if(s&&s.color===t)for(let r=0;r<8;r++)for(let l=0;l<8;l++)if(A(e,a,i,r,l,o))if("pawn"===s.type&&("white"===t&&0===r||"black"===t&&7===r))for(const e of["queen","rook","bishop","knight"])c.push({fromRow:a,fromCol:i,toRow:r,toCol:l,promotionPiece:e});else c.push({fromRow:a,fromCol:i,toRow:r,toCol:l})}return c.sort(((t,o)=>{const c=e[t.toRow][t.toCol],a=e[o.toRow][o.toCol],i=c?K[c.type]:0,s=a?K[a.type]:0,r=t.promotionPiece?K[t.promotionPiece]:0;return s+(o.promotionPiece?K[o.promotionPiece]:0)-(i+r)})),c},V=(e,t,o,c,a,i,s,r)=>{if(Date.now()-s>r)throw new Error("Time limit exceeded");if(F(e,"white",i))return-1e4-t;if(F(e,"black",i))return 1e4+t;if(L(e,"white",i)||L(e,"black",i))return 0;if(0===t)return Q(e,i);const l=(e=>{let t="";for(let o=0;o<8;o++)for(let c=0;c<8;c++){const a=e[o][c];a&&(t+=`${o}${c}${a.type[0]}${a.color[0]}`)}return t})(e),n=`${l}-${t}-${a}`;if(z.has(n))return z.get(n);const h=a?"white":"black",d=Y(e,h,i);if(0===d.length)return P(e,h)?a?-1e4-t:1e4+t:0;let b=a?-1/0:1/0;for(const u of d){const{fromRow:l,fromCol:n,toRow:h,toCol:d,promotionPiece:m}=u,{board:g,gameState:j}=W(e,l,n,h,d,i,m),p=V(g,t-1,o,c,!a,j,s,r);if(a?(b=Math.max(b,p),o=Math.max(o,b)):(b=Math.min(b,p),c=Math.min(c,b)),c<=o)break}return z.set(n,b),z.size>1e5&&z.clear(),b},X=(e,t,o,c)=>{try{let a,i;switch(c){case"easy":a=3,i=2e3;break;case"medium":default:a=4,i=3e3;break;case"hard":a=5,i=5e3}const s="easy"===c?.2:"medium"===c?.05:0;if(Math.random()<s){const c=Y(e,t,o);if(c.length>0)return c[Math.floor(Math.random()*c.length)]}return((e,t,o,c,a)=>{const i=Date.now();let s=null,r="white"===t?-1/0:1/0;const l=Y(e,t,o);if(1===l.length)return l[0];for(let h=1;h<=c;h++){let c=null,d="white"===t?-1/0:1/0;try{for(const s of l){const{fromRow:r,fromCol:l,toRow:n,toCol:b,promotionPiece:u}=s,{board:m,gameState:g}=W(e,r,l,n,b,o,u),j=V(m,h-1,-1/0,1/0,"black"===t,g,i,a);("white"===t&&j>d||"black"===t&&j<d)&&(d=j,c=s)}if(s=c,r=d,console.log(`Completed depth ${h}, best score: ${r}`),"white"===t&&r>9e3||"black"===t&&r<-9e3){console.log("Found winning move!");break}}catch(n){if("Time limit exceeded"===n.message){console.log("Completed depth "+(h-1));break}throw n}if(Date.now()-i>.8*a){console.log(`Completed depth ${h}`);break}}return s})(e,t,o,a,i)}catch(a){console.error("Error in AI move calculation:",a);try{const c=Y(e,t,o);if(c.length>0)return c[Math.floor(Math.random()*c.length)]}catch(i){console.error("Error in fallback move generation:",i)}return null}};var Z=function(){const[e,t]=Object(c.useState)($()),[o,a]=Object(c.useState)(null),[i,s]=Object(c.useState)("white"),[r,l]=Object(c.useState)("ongoing"),[n,h]=Object(c.useState)([]),[d,b]=Object(c.useState)({enPassantTarget:null,castlingRights:{white:{kingSide:!0,queenSide:!0},black:{kingSide:!0,queenSide:!0}}}),[u,m]=Object(c.useState)([]),[g,j]=Object(c.useState)(null),[p,f]=Object(c.useState)("medium"),[w,O]=Object(c.useState)(!1),[v,y]=Object(c.useState)(null),[x,R]=Object(c.useState)(null),[T,E]=Object(c.useState)("classic"),[B,I]=Object(c.useState)(!1),D=Object(c.useRef)(null),H=Object(c.useCallback)(((e,t,o,c,a,i,s)=>{const r=["a","b","c","d","e","f","g","h"];let l="";return"pawn"!==e.type&&(l+=e.type.charAt(0).toUpperCase()),"pawn"===e.type&&i&&(l+=r[o]),i&&(l+="x"),l+=r[a]+["8","7","6","5","4","3","2","1"][c],s&&(l+="="+s.charAt(0).toUpperCase()),l}),[]),J=Object(c.useCallback)((function(o,c,i,r){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const n=e[o][c],{board:u,gameState:g,capturedPiece:j}=W(e,o,c,i,r,d,l);t(u),b(g);const p={from:{row:o,col:c},to:{row:i,col:r},piece:n,capturedPiece:j,notation:H(n,o,c,i,r,j,l),color:n.color};h((e=>[...e,p])),s((e=>"white"===e?"black":"white")),a(null),m([]),O(!1),y(null)}),[e,d,H]);Object(c.useEffect)((()=>{D.current=J}),[J]);const K=Object(c.useCallback)((()=>{"black"!==i||"ongoing"!==r||B||(I(!0),requestAnimationFrame((()=>{try{const t=X(e,"black",d,p);if(t){const{fromRow:o,fromCol:c,toRow:a,toCol:i,promotionPiece:s}=t,r=e[o][c];G(r,a)?D.current(o,c,a,i,s||"queen"):D.current(o,c,a,i)}else{const t=[];for(let o=0;o<8;o++)for(let c=0;c<8;c++){const a=e[o][c];if(a&&"black"===a.color)for(let i=0;i<8;i++)for(let s=0;s<8;s++)A(e,o,c,i,s,d)&&("pawn"===a.type&&7===i?t.push({fromRow:o,fromCol:c,toRow:i,toCol:s,promotionPiece:"queen"}):t.push({fromRow:o,fromCol:c,toRow:i,toCol:s}))}if(t.length>0){const e=t[Math.floor(Math.random()*t.length)],{fromRow:o,fromCol:c,toRow:a,toCol:i,promotionPiece:s}=e;D.current(o,c,a,i,s)}}}catch(t){console.error("Error in AI move calculation:",t)}finally{I(!1)}})))}),[e,i,r,d,p,B]);Object(c.useEffect)((()=>{let e=null;return"black"!==i||"ongoing"!==r||B||(e=setTimeout((()=>{K()}),500)),()=>{e&&clearTimeout(e)}}),[i,r,K,B]),Object(c.useEffect)((()=>{if(n.length>0){const t=P(e,"white"),o=P(e,"black");t?(j("white"),F(e,"white",d)&&l("Checkmate! Black wins.")):o?(j("black"),F(e,"black",d)&&l("Checkmate! White wins.")):j(null),("white"===i&&L(e,"white",d)||"black"===i&&L(e,"black",d))&&l("Draw by stalemate")}}),[e,i,n,d]);const U=Object(c.useMemo)((()=>{if(!o)return[];const t=[];for(let c=0;c<8;c++)for(let a=0;a<8;a++)A(e,o.row,o.col,c,a,d)&&t.push({row:c,col:a});return t}),[o,e,d]);Object(c.useEffect)((()=>{m(U)}),[U]),Object(c.useCallback)((e=>{switch(e){case"pawn":default:return"";case"knight":return"N";case"bishop":return"B";case"rook":return"R";case"queen":return"Q";case"king":return"K"}}),[]);const z=Object(c.useCallback)(((t,c)=>{if("ongoing"!==r||x)return;if("white"!==i)return;const s=e[t][c];if(o){if(o.row===t&&o.col===c)return void a(null);if(s&&s.color===i)return void a({row:t,col:c,piece:s});if(A(e,o.row,o.col,t,c,d)){if(G(o.piece,t)){const e=document.querySelector(".chess-board").getBoundingClientRect(),a=e.width/8;return void R({fromRow:o.row,fromCol:o.col,toRow:t,toCol:c,position:{x:e.left+c*a+a/2,y:e.top+t*a+a/2}})}J(o.row,o.col,t,c)}}else s&&s.color===i&&a({row:t,col:c,piece:s})}),[e,d,r,J,i,x,o]),Q=Object(c.useCallback)((e=>{if(!x)return;const{fromRow:t,fromCol:o,toRow:c,toCol:a}=x;J(t,o,c,a,e),R(null)}),[J,x]),Y=Object(c.useCallback)((()=>{t($()),a(null),s("white"),l("ongoing"),h([]),b({enPassantTarget:null,castlingRights:{white:{kingSide:!0,queenSide:!0},black:{kingSide:!0,queenSide:!0}}}),m([]),j(null),O(!1),y(null),R(null)}),[]),V=Object(c.useCallback)((e=>{f(e),Y()}),[Y]),Z=Object(c.useCallback)((()=>{if("white"===i&&"ongoing"===r){const t=X(e,"white",d,2);t&&(O(!0),y(t))}}),[e,d,r,i]),_=Object(c.useCallback)((e=>{E(e),localStorage.setItem("chessTheme",e)}),[]);Object(c.useEffect)((()=>{const e=localStorage.getItem("chessTheme");e&&S[e]&&E(e)}),[]);const ee=Object(c.useMemo)((()=>n.length>0?n[n.length-1]:null),[n]),te=Object(c.useMemo)((()=>S[T]),[T]);return Object(k.jsxs)("div",{className:"app",children:[Object(k.jsxs)("div",{className:"app-header",children:[Object(k.jsx)("h1",{children:"AI Chess"}),Object(k.jsx)("div",{className:"author-credits",children:Object(k.jsx)("span",{children:"Created by Aditya Thakkar"})}),Object(k.jsx)(q,{currentTheme:T,onThemeChange:_})]}),Object(k.jsxs)("div",{className:"difficulty-selector",children:[Object(k.jsx)("span",{className:"difficulty-label",children:"AI Difficulty:"}),Object(k.jsxs)("div",{className:"difficulty-buttons",children:[Object(k.jsx)("button",{className:"difficulty-button "+("easy"===p?"active":""),onClick:()=>V("easy"),children:"Easy"}),Object(k.jsx)("button",{className:"difficulty-button "+("medium"===p?"active":""),onClick:()=>V("medium"),children:"Medium"}),Object(k.jsx)("button",{className:"difficulty-button "+("hard"===p?"active":""),onClick:()=>V("hard"),children:"Hard"})]})]}),Object(k.jsxs)("div",{className:"game-container",children:[Object(k.jsx)(C,{board:e,selectedPiece:o,onSquareClick:z,highlightedSquares:u,checkIndicator:g,lastMove:ee,hintMove:w?v:null,theme:te}),Object(k.jsx)(N,{playerTurn:i,gameStatus:r,moveHistory:n,onResetGame:Y,isInCheck:g,aiDifficulty:p,onGetHint:Z,aiThinking:B,onDifficultyChange:V})]}),x&&Object(k.jsx)(M,{position:x.position,color:"white",onSelect:Q,onCancel:()=>R(null),theme:te}),Object(k.jsx)("div",{className:"app-footer",children:Object(k.jsxs)("div",{className:"footer-content",children:[Object(k.jsx)("p",{children:"Chess AI with Minimax Algorithm & Alpha-Beta Pruning"}),Object(k.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," AI Chess by Aditya Thakkar"]})]})})]})};s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(Z,{})}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.e876bb8b.chunk.js.map