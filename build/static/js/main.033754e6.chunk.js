(this["webpackJsonpai-chess"]=this["webpackJsonpai-chess"]||[]).push([[0],[,,,,,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var c=o(1),a=o.n(c),r=o(3),s=o.n(r),l=(o(8),o(9),o(10),o.p+"static/media/white-pawn.236f6686.svg"),n=o.p+"static/media/white-rook.51da5ea4.svg",i=o.p+"static/media/white-knight.6682d263.svg",h=o.p+"static/media/white-bishop.434cf6df.svg",u=o.p+"static/media/white-queen.2ec74f60.svg",d=o.p+"static/media/white-king.5933a366.svg",b=o.p+"static/media/black-pawn.3df4af41.svg",m=o.p+"static/media/black-rook.6208da08.svg",g=o.p+"static/media/black-knight.dbe602a6.svg",f=o.p+"static/media/black-bishop.d3b59849.svg",j=o.p+"static/media/black-queen.81d53079.svg",p=o.p+"static/media/black-king.5c3d9d02.svg",k=o(0);const w={white:{pawn:l,rook:n,knight:i,bishop:h,queen:u,king:d},black:{pawn:b,rook:m,knight:g,bishop:f,queen:j,king:p}},v=Object(c.memo)((e=>{let{row:t,col:o,piece:c,isLight:a,isSelected:r,isHighlighted:s,isCheck:l,isLastMove:n,isHint:i,squareColor:h,onClick:u}=e,d="square "+(a?"light":"dark");r&&(d+=" selected"),s&&(d+=" highlighted"),l&&(d+=" check"),n&&(d+=" last-move"),i&&(d+=" hint");const b={backgroundColor:h};return Object(k.jsx)("div",{className:d,style:b,onClick:u,children:c&&!c.captured&&Object(k.jsx)("img",{src:w[c.color][c.type],alt:`${c.color} ${c.type}`,className:`piece ${c.color}`})})})),O=Object(c.memo)((()=>Object(k.jsxs)("div",{className:"board-coordinates",children:[Object(k.jsx)("div",{className:"files",children:["a","b","c","d","e","f","g","h"].map((e=>Object(k.jsx)("div",{children:e},e)))}),Object(k.jsx)("div",{className:"ranks",children:["8","7","6","5","4","3","2","1"].map((e=>Object(k.jsx)("div",{children:e},e)))})]}))),C=Object(c.memo)((e=>{let{capturedPieces:t,color:o}=e;const c="white"===o?t.black:t.white;return 0===c.length?null:Object(k.jsx)("div",{className:"captured-row",children:c.map(((e,t)=>Object(k.jsx)("img",{src:w[e.color][e.type],alt:`${e.color} ${e.type}`,className:"captured-piece"},t)))})})),y=e=>{let{board:t,selectedPiece:o,onSquareClick:a,highlightedSquares:r,checkIndicator:s,lastMove:l,hintMove:n,theme:i}=e;const h=Object(c.useMemo)((()=>{const e={white:[],black:[]};return t.flat().forEach((t=>{t&&t.captured&&e[t.color].push(t)})),e}),[t]),u=Object(c.useMemo)((()=>{const e={};return r.forEach((t=>{e[`${t.row}-${t.col}`]=!0})),e}),[r]),d=Object(c.useMemo)((()=>{if(!l)return{};const{from:e,to:t}=l;return{[`${e.row}-${e.col}`]:!0,[`${t.row}-${t.col}`]:!0}}),[l]),b=Object(c.useMemo)((()=>{if(!n)return{};const{fromRow:e,fromCol:t,toRow:o,toCol:c}=n;return{[`${e}-${t}`]:!0,[`${o}-${c}`]:!0}}),[n]),m=Object(c.useMemo)((()=>{const e=[],c=(e,t)=>!!u[`${e}-${t}`],r=(e,t)=>!!d[`${e}-${t}`],l=(e,t)=>!!b[`${e}-${t}`];for(let n=0;n<8;n++)for(let h=0;h<8;h++){const u=t[n][h],d=(n+h)%2===0,b=o&&o.row===n&&o.col===h,m=s&&u&&"king"===u.type&&u.color===s,g=d?i.lightSquare:i.darkSquare;e.push(Object(k.jsx)(v,{row:n,col:h,piece:u,isLight:d,isSelected:b,isHighlighted:c(n,h),isCheck:m,isLastMove:r(n,h),isHint:l(n,h),squareColor:g,onClick:()=>a(n,h)},`${n}-${h}`))}return e}),[t,o,s,i,a,u,d,b]),g=Object(c.useMemo)((()=>({background:i.boardBg,"--highlight-color":i.highlightColor,"--check-color":i.checkColor,"--last-move-color":i.lastMoveColor,"--accent-color":i.accentColor})),[i]);return Object(k.jsxs)("div",{className:"chess-board-container",style:g,children:[Object(k.jsx)("div",{className:"chess-board",children:m}),Object(k.jsx)(O,{}),Object(k.jsxs)("div",{className:"captured-pieces",children:[Object(k.jsx)(C,{capturedPieces:h,color:"white"}),Object(k.jsx)(C,{capturedPieces:h,color:"black"})]})]})};var x=Object(c.memo)(y);o(12);var M=e=>{let{playerTurn:t,gameStatus:o,moveHistory:a,onResetGame:r,isInCheck:s,aiDifficulty:l,onGetHint:n,aiThinking:i}=e;const[h,u]=Object(c.useState)("moves"),d=[];for(let c=0;c<a.length;c+=2)d.push({number:Math.floor(c/2)+1,white:a[c],black:a[c+1]});const b=(()=>{const e={pawn:1,knight:3,bishop:3,rook:5,queen:9,king:0};let t=0,o=0;a.forEach((c=>{c.capturedPiece&&("white"===c.capturedPiece.color?o+=e[c.capturedPiece.type]:t+=e[c.capturedPiece.type])}));const c=t-o;return c>0?{color:"white",value:c}:c<0?{color:"black",value:Math.abs(c)}:{color:"equal",value:0}})();return Object(k.jsxs)("div",{className:"game-info",children:[Object(k.jsx)("h2",{children:"Game Status"}),(()=>{let e="";return e="ongoing"===o?("white"===t?"White":"Black")+"'s turn":o.includes("checkmate")?o:o.includes("stalemate")?"Draw by stalemate":o,Object(k.jsxs)("div",{className:"status-container",children:[Object(k.jsxs)("div",{className:"status",children:[e,i&&"black"===t&&Object(k.jsxs)("div",{className:"ai-thinking",children:[Object(k.jsx)("span",{children:"AI is thinking"}),Object(k.jsxs)("div",{className:"thinking-dots",children:[Object(k.jsx)("span",{className:"dot"}),Object(k.jsx)("span",{className:"dot"}),Object(k.jsx)("span",{className:"dot"})]})]})]}),Object(k.jsxs)("div",{className:"player-indicators",children:[Object(k.jsxs)("div",{className:"player-indicator "+("white"===t?"active":""),children:[Object(k.jsx)("span",{className:"white",children:"White"}),s&&"white"===t&&Object(k.jsx)("span",{className:"check-indicator",children:"CHECK!"})]}),Object(k.jsxs)("div",{className:"player-indicator "+("black"===t?"active":""),children:[Object(k.jsx)("span",{className:"black",children:"Black"}),s&&"black"===t&&Object(k.jsx)("span",{className:"check-indicator",children:"CHECK!"})]})]}),s&&"ongoing"===o&&Object(k.jsxs)("div",{className:"check-status",children:["white"===s?"White":"Black"," is in check!"]}),"ongoing"!==o&&Object(k.jsx)("div",{className:"game-over",children:o}),Object(k.jsxs)("div",{className:"button-container",children:[Object(k.jsx)("button",{className:"reset-button",onClick:r,children:"New Game"}),Object(k.jsx)("button",{className:"hint-button",onClick:n,disabled:"ongoing"!==o||"white"!==t||i,children:"Hint"})]})]})})(),Object(k.jsxs)("div",{className:"tabs",children:[Object(k.jsx)("div",{className:"tab "+("moves"===h?"active":""),onClick:()=>u("moves"),children:"Moves"}),Object(k.jsx)("div",{className:"tab "+("analysis"===h?"active":""),onClick:()=>u("analysis"),children:"Analysis"})]}),Object(k.jsx)("div",{className:"tab-content",children:"moves"===h?0===a.length?Object(k.jsx)("div",{className:"no-moves",children:"No moves yet"}):Object(k.jsx)("div",{className:"moves-container",children:Object(k.jsxs)("table",{className:"moves-table",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"#"}),Object(k.jsx)("th",{children:"White"}),Object(k.jsx)("th",{children:"Black"})]})}),Object(k.jsx)("tbody",{children:d.map((e=>Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"move-number",children:e.number}),Object(k.jsx)("td",{className:"white-move",children:e.white?e.white.notation:""}),Object(k.jsx)("td",{className:"black-move",children:e.black?e.black.notation:""})]},e.number)))})]})}):(()=>{const e={easy:1,medium:2,hard:3}[l];return Object(k.jsxs)("div",{className:"analysis-container",children:[Object(k.jsxs)("div",{className:"analysis-item",children:[Object(k.jsx)("span",{className:"analysis-label",children:"Total Moves"}),Object(k.jsx)("span",{className:"analysis-value",children:a.length})]}),Object(k.jsxs)("div",{className:"analysis-item",children:[Object(k.jsx)("span",{className:"analysis-label",children:"Material Advantage"}),Object(k.jsx)("span",{className:`analysis-value material-advantage ${b.color}`,children:"equal"===b.color?"Equal":`+${b.value} for ${b.color}`})]}),Object(k.jsxs)("div",{className:"analysis-item",children:[Object(k.jsx)("span",{className:"analysis-label",children:"AI Thinking Depth"}),Object(k.jsxs)("span",{className:"analysis-value",children:[e," ",1===e?"move":"moves"]})]})]})})()})]})};o(13);var N=e=>{let{position:t,color:o,onSelect:c,onCancel:a}=e;const r={white:{queen:u,rook:n,bishop:h,knight:i},black:{queen:j,rook:m,bishop:f,knight:g}};return Object(k.jsx)("div",{className:"promotion-dialog-backdrop",onClick:a,children:Object(k.jsxs)("div",{className:"promotion-dialog",style:{top:t.y,left:t.x},onClick:e=>e.stopPropagation(),children:[Object(k.jsx)("div",{className:"promotion-title",children:"Promote to:"}),Object(k.jsx)("div",{className:"promotion-options",children:["queen","rook","bishop","knight"].map((e=>Object(k.jsxs)("div",{className:"promotion-piece",onClick:()=>c(e),children:[Object(k.jsx)("img",{src:r[o][e],alt:`${o} ${e}`,className:"promotion-piece-image"}),Object(k.jsx)("div",{className:"promotion-piece-name",children:e})]},e)))})]})})};o(14);var S={classic:{name:"Classic",lightSquare:"#f0d9b5",darkSquare:"#b58863",highlightColor:"rgba(78, 205, 196, 0.7)",checkColor:"rgba(255, 107, 107, 0.6)",lastMoveColor:"rgba(255, 209, 102, 0.4)",boardBg:"linear-gradient(135deg, rgba(30, 41, 59, 0.9), rgba(15, 23, 42, 0.9))",accentColor:"#4ecdc4"},blue:{name:"Ocean Blue",lightSquare:"#dee3e6",darkSquare:"#8ca2ad",highlightColor:"rgba(106, 168, 79, 0.7)",checkColor:"rgba(244, 67, 54, 0.6)",lastMoveColor:"rgba(255, 193, 7, 0.4)",boardBg:"linear-gradient(135deg, rgba(25, 118, 210, 0.9), rgba(13, 71, 161, 0.9))",accentColor:"#03a9f4"},dark:{name:"Midnight",lightSquare:"#6b7987",darkSquare:"#2e3947",highlightColor:"rgba(121, 134, 203, 0.7)",checkColor:"rgba(255, 82, 82, 0.6)",lastMoveColor:"rgba(255, 215, 64, 0.4)",boardBg:"linear-gradient(135deg, rgba(20, 20, 31, 0.9), rgba(10, 10, 18, 0.9))",accentColor:"#9c27b0"},green:{name:"Forest",lightSquare:"#eeeed2",darkSquare:"#769656",highlightColor:"rgba(119, 149, 86, 0.7)",checkColor:"rgba(255, 97, 97, 0.6)",lastMoveColor:"rgba(255, 213, 79, 0.4)",boardBg:"linear-gradient(135deg, rgba(27, 94, 32, 0.9), rgba(46, 125, 50, 0.9))",accentColor:"#8bc34a"},coral:{name:"Coral",lightSquare:"#fce4ec",darkSquare:"#f06292",highlightColor:"rgba(128, 203, 196, 0.7)",checkColor:"rgba(255, 82, 82, 0.6)",lastMoveColor:"rgba(255, 202, 40, 0.4)",boardBg:"linear-gradient(135deg, rgba(216, 27, 96, 0.9), rgba(142, 36, 170, 0.9))",accentColor:"#00bcd4"}};var q=e=>{let{currentTheme:t,onThemeChange:o}=e;return Object(k.jsxs)("div",{className:"theme-selector",children:[Object(k.jsx)("div",{className:"theme-selector-label",children:"Board Theme:"}),Object(k.jsx)("div",{className:"theme-options",children:Object.keys(S).map((e=>Object(k.jsxs)("div",{className:"theme-option "+(t===e?"active":""),onClick:()=>o(e),title:S[e].name,children:[Object(k.jsx)("div",{className:"theme-preview",style:{background:`linear-gradient(135deg, \n                  ${S[e].lightSquare} 0%, \n                  ${S[e].lightSquare} 50%, \n                  ${S[e].darkSquare} 50%, \n                  ${S[e].darkSquare} 100%)`}}),Object(k.jsx)("span",{className:"theme-name",children:S[e].name})]},e)))})]})};const R=()=>{const e=Array(8).fill().map((()=>Array(8).fill(null)));for(let t=0;t<8;t++)e[1][t]={type:"pawn",color:"black",hasMoved:!1},e[6][t]={type:"pawn",color:"white",hasMoved:!1};return e[0][0]={type:"rook",color:"black",hasMoved:!1},e[0][7]={type:"rook",color:"black",hasMoved:!1},e[7][0]={type:"rook",color:"white",hasMoved:!1},e[7][7]={type:"rook",color:"white",hasMoved:!1},e[0][1]={type:"knight",color:"black",hasMoved:!1},e[0][6]={type:"knight",color:"black",hasMoved:!1},e[7][1]={type:"knight",color:"white",hasMoved:!1},e[7][6]={type:"knight",color:"white",hasMoved:!1},e[0][2]={type:"bishop",color:"black",hasMoved:!1},e[0][5]={type:"bishop",color:"black",hasMoved:!1},e[7][2]={type:"bishop",color:"white",hasMoved:!1},e[7][5]={type:"bishop",color:"white",hasMoved:!1},e[0][3]={type:"queen",color:"black",hasMoved:!1},e[7][3]={type:"queen",color:"white",hasMoved:!1},e[0][4]={type:"king",color:"black",hasMoved:!1},e[7][4]={type:"king",color:"white",hasMoved:!1},e},$=e=>JSON.parse(JSON.stringify(e)),T=(e,t,o,c)=>{const a="white"===c?-1:1;if(t+a>=0&&t+a<8){if(o-1>=0){const r=e[t+a][o-1];if(r&&"pawn"===r.type&&r.color===c)return!0}if(o+1<8){const r=e[t+a][o+1];if(r&&"pawn"===r.type&&r.color===c)return!0}}const r=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]];for(const[l,n]of r){const a=t+l,r=o+n;if(a>=0&&a<8&&r>=0&&r<8){const t=e[a][r];if(t&&"knight"===t.type&&t.color===c)return!0}}const s=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[l,n]of s){let a=t+l,r=o+n;for(;a>=0&&a<8&&r>=0&&r<8;){const s=e[a][r];if(s){if(s.color===c){if("queen"===s.type||"bishop"===s.type&&Math.abs(l)===Math.abs(n)||"rook"===s.type&&(0===l||0===n))return!0;if("king"===s.type&&Math.abs(a-t)<=1&&Math.abs(r-o)<=1)return!0}break}a+=l,r+=n}}return!1},P=(e,t)=>{const o=((e,t)=>{for(let o=0;o<8;o++)for(let c=0;c<8;c++){const a=e[o][c];if(a&&"king"===a.type&&a.color===t)return{row:o,col:c}}return null})(e,t);if(!o)return!1;const c="white"===t?"black":"white";return T(e,o.row,o.col,c)},A=(e,t,o,c,a,r)=>{if(t<0||t>7||o<0||o>7||c<0||c>7||a<0||a>7)return!1;const s=e[t][o];if(!s)return!1;const l=e[c][a];if(l&&l.color===s.color)return!1;let n=!1;switch(s.type){case"pawn":n=E(e,t,o,c,a,r);break;case"knight":n=I(t,o,c,a);break;case"bishop":n=H(e,t,o,c,a);break;case"rook":n=B(e,t,o,c,a);break;case"queen":n=D(e,t,o,c,a);break;case"king":n=J(e,t,o,c,a,r);break;default:n=!1}if(n){const r=$(e);r[c][a]=r[t][o],r[t][o]=null;if(P(r,s.color))return!1}return n},E=(e,t,o,c,a,r)=>{const s=e[t][o],l="white"===s.color?-1:1;if(o===a&&c===t+l&&!e[c][a])return!0;if(o===a&&("white"===s.color&&6===t||"black"===s.color&&1===t)&&c===t+2*l&&!e[t+l][o]&&!e[c][a])return!0;if(1===Math.abs(o-a)&&c===t+l){if(e[c][a]&&e[c][a].color!==s.color)return!0;if(!e[c][a]&&r&&r.enPassantTarget&&c===r.enPassantTarget.row&&a===r.enPassantTarget.col)return!0}return!1},B=(e,t,o,c,a)=>{if(t!==c&&o!==a)return!1;if(t===c){const c=Math.min(o,a),r=Math.max(o,a);for(let o=c+1;o<r;o++)if(e[t][o])return!1}else{const a=Math.min(t,c),r=Math.max(t,c);for(let t=a+1;t<r;t++)if(e[t][o])return!1}return!0},I=(e,t,o,c)=>{const a=Math.abs(e-o),r=Math.abs(t-c);return 2===a&&1===r||1===a&&2===r},H=(e,t,o,c,a)=>{const r=Math.abs(t-c);if(r!==Math.abs(o-a))return!1;const s=t<c?1:-1,l=o<a?1:-1;for(let n=1;n<r;n++)if(e[t+n*s][o+n*l])return!1;return!0},D=(e,t,o,c,a)=>B(e,t,o,c,a)||H(e,t,o,c,a),J=(e,t,o,c,a,r)=>{const s=e[t][o],l=Math.abs(t-c),n=Math.abs(o-a);if(l<=1&&n<=1)return!0;if(0===l&&2===n&&!s.hasMoved&&!P(e,s.color))if(a>o){const o=e[t][7];if(o&&"rook"===o.type&&o.color===s.color&&!o.hasMoved&&!e[t][5]&&!e[t][6]){const o="white"===s.color?"black":"white";if(!T(e,t,5,o)&&!T(e,t,6,o))return!0}}else{const o=e[t][0];if(o&&"rook"===o.type&&o.color===s.color&&!o.hasMoved&&!e[t][1]&&!e[t][2]&&!e[t][3]){const o="white"===s.color?"black":"white";if(!T(e,t,2,o)&&!T(e,t,3,o))return!0}}return!1},G=(e,t)=>!(!e||"pawn"!==e.type)&&("white"===e.color&&0===t||"black"===e.color&&7===t),W=function(e,t,o,c,a,r){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const l=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(r||{enPassantTarget:null,castlingRights:{white:{kingSide:!0,queenSide:!0},black:{kingSide:!0,queenSide:!0}}})),i=l[t][o],h=l[c][a];let u=h;if("king"===i.type&&2===Math.abs(o-a)&&(a>o?(l[c][a-1]=l[c][7],l[c][a-1].hasMoved=!0,l[c][7]=null):(l[c][a+1]=l[c][0],l[c][a+1].hasMoved=!0,l[c][0]=null)),"pawn"===i.type&&o!==a&&!h){const e=t;u=l[e][a],l[e][a]=null}if(n.enPassantTarget=null,"pawn"===i.type&&2===Math.abs(t-c)){const e="white"===i.color?-1:1;n.enPassantTarget={row:t+e,col:o}}return"king"===i.type?(n.castlingRights[i.color].kingSide=!1,n.castlingRights[i.color].queenSide=!1):"rook"===i.type&&(7===t&&0===o&&"white"===i.color?n.castlingRights.white.queenSide=!1:7===t&&7===o&&"white"===i.color?n.castlingRights.white.kingSide=!1:0===t&&0===o&&"black"===i.color?n.castlingRights.black.queenSide=!1:0===t&&7===o&&"black"===i.color&&(n.castlingRights.black.kingSide=!1)),"pawn"===i.type&&G(i,c)&&s?l[c][a]={type:s,color:i.color,hasMoved:!0}:(l[c][a]=i,l[c][a].hasMoved=!0),l[t][o]=null,{board:l,gameState:n,capturedPiece:u}},L=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!P(e,t))return!1;for(let c=0;c<8;c++)for(let a=0;a<8;a++){const r=e[c][a];if(r&&r.color===t)for(let s=0;s<8;s++)for(let r=0;r<8;r++)if(A(e,c,a,s,r,o)){const o=$(e);if(o[s][r]=o[c][a],o[c][a]=null,!P(o,t))return!1}}return!0},K=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(P(e,t))return!1;for(let c=0;c<8;c++)for(let a=0;a<8;a++){const r=e[c][a];if(r&&r.color===t)for(let t=0;t<8;t++)for(let r=0;r<8;r++)if(A(e,c,a,t,r,o))return!1}return!0},F={pawn:10,knight:30,bishop:30,rook:50,queen:90,king:900},U={pawn:[[0,0,0,0,0,0,0,0],[5,5,5,5,5,5,5,5],[1,1,2,3,3,2,1,1],[.5,.5,1,2.5,2.5,1,.5,.5],[0,0,0,2,2,0,0,0],[.5,-.5,-1,0,0,-1,-.5,.5],[.5,1,1,-2,-2,1,1,.5],[0,0,0,0,0,0,0,0]],knight:[[-5,-4,-3,-3,-3,-3,-4,-5],[-4,-2,0,0,0,0,-2,-4],[-3,0,1,1.5,1.5,1,0,-3],[-3,.5,1.5,2,2,1.5,.5,-3],[-3,0,1.5,2,2,1.5,0,-3],[-3,.5,1,1.5,1.5,1,.5,-3],[-4,-2,0,.5,.5,0,-2,-4],[-5,-4,-3,-3,-3,-3,-4,-5]],bishop:[[-2,-1,-1,-1,-1,-1,-1,-2],[-1,0,0,0,0,0,0,-1],[-1,0,.5,1,1,.5,0,-1],[-1,.5,.5,1,1,.5,.5,-1],[-1,0,1,1,1,1,0,-1],[-1,1,1,1,1,1,1,-1],[-1,.5,0,0,0,0,.5,-1],[-2,-1,-1,-1,-1,-1,-1,-2]],rook:[[0,0,0,0,0,0,0,0],[.5,1,1,1,1,1,1,.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[0,0,0,.5,.5,0,0,0]],queen:[[-2,-1,-1,-.5,-.5,-1,-1,-2],[-1,0,0,0,0,0,0,-1],[-1,0,.5,.5,.5,.5,0,-1],[-.5,0,.5,.5,.5,.5,0,-.5],[0,0,.5,.5,.5,.5,0,-.5],[-1,.5,.5,.5,.5,.5,0,-1],[-1,0,.5,0,0,0,0,-1],[-2,-1,-1,-.5,-.5,-1,-1,-2]],king:[[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-2,-3,-3,-4,-4,-3,-3,-2],[-1,-2,-2,-2,-2,-2,-2,-1],[2,2,0,0,0,0,2,2],[2,3,1,0,0,1,3,2]]},z=new Map,Q=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]],Y={bishop:[[-1,-1],[-1,1],[1,-1],[1,1]],rook:[[-1,0],[0,-1],[0,1],[1,0]],queen:[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]]},V=(e,t,o,c)=>{const a=e[t][o];if(!a)return[];const r=[];switch(a.type){case"pawn":{const s="white"===a.color?-1:1;t+s>=0&&t+s<8&&!e[t+s][o]&&(r.push({fromRow:t,fromCol:o,toRow:t+s,toCol:o,isCapture:!1}),!a.hasMoved&&t+2*s>=0&&t+2*s<8&&!e[t+s][o]&&!e[t+2*s][o]&&r.push({fromRow:t,fromCol:o,toRow:t+2*s,toCol:o,isCapture:!1}));for(const l of[-1,1])o+l>=0&&o+l<8&&t+s>=0&&t+s<8&&(e[t+s][o+l]&&e[t+s][o+l].color!==a.color&&r.push({fromRow:t,fromCol:o,toRow:t+s,toCol:o+l,isCapture:!0}),!e[t+s][o+l]&&c.enPassantTarget&&t+s===c.enPassantTarget.row&&o+l===c.enPassantTarget.col&&r.push({fromRow:t,fromCol:o,toRow:t+s,toCol:o+l,isCapture:!0,isEnPassant:!0}));break}case"knight":for(const[c,s]of Q){const l=t+c,n=o+s;if(l>=0&&l<8&&n>=0&&n<8){const c=e[l][n];c&&c.color===a.color||r.push({fromRow:t,fromCol:o,toRow:l,toCol:n,isCapture:!!c})}}break;case"bishop":case"rook":case"queen":{const c=Y[a.type];for(const[s,l]of c){let c=t+s,n=o+l;for(;c>=0&&c<8&&n>=0&&n<8;){const i=e[c][n];if(i){i.color!==a.color&&r.push({fromRow:t,fromCol:o,toRow:c,toCol:n,isCapture:!0});break}r.push({fromRow:t,fromCol:o,toRow:c,toCol:n,isCapture:!1}),c+=s,n+=l}}break}case"king":for(let c=-1;c<=1;c++)for(let s=-1;s<=1;s++){if(0===c&&0===s)continue;const l=t+c,n=o+s;if(l>=0&&l<8&&n>=0&&n<8){const c=e[l][n];c&&c.color===a.color||r.push({fromRow:t,fromCol:o,toRow:l,toCol:n,isCapture:!!c})}}if(!a.hasMoved&&c.castlingRights){const s=c.castlingRights[a.color];s&&s.kingSide&&!e[t][o+1]&&!e[t][o+2]&&e[t][o+3]&&"rook"===e[t][o+3].type&&!e[t][o+3].hasMoved&&r.push({fromRow:t,fromCol:o,toRow:t,toCol:o+2,isCapture:!1,isCastling:!0,castlingSide:"kingside"}),!s||!s.queenSide||e[t][o-1]||e[t][o-2]||e[t][o-3]||!e[t][o-4]||"rook"!==e[t][o-4].type||e[t][o-4].hasMoved||r.push({fromRow:t,fromCol:o,toRow:t,toCol:o-2,isCapture:!1,isCastling:!0,castlingSide:"queenside"})}}return r},X=function(e,t,o){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"medium";try{let a=((e,t,o)=>{const c=[],a=[];for(let r=0;r<8;r++)for(let c=0;c<8;c++){const s=e[r][c];if(s&&s.color===t){const t=V(e,r,c,o);a.push(...t)}}for(const r of a){const{fromRow:t,fromCol:a,toRow:s,toCol:l}=r;A(e,t,a,s,l,o)&&c.push(r)}return c})(e,t,o);if(!a||0===a.length)return null;if(1===a.length)return a[0];const r="easy"===c?.4:"medium"===c?.2:.05;if(Math.random()<r){return a[Math.floor(Math.random()*a.length)]}const s=(e=>{let t="";for(let o=0;o<8;o++)for(let c=0;c<8;c++){const a=e[o][c];a&&(t+=`${o}${c}${a.type[0]}${a.color[0]}`)}return t})(e),l=`${s}-${t}-${c}`;if(z.has(l))return z.get(l);const n=20;a.length>n&&(a=a.sort((()=>.5-Math.random())).slice(0,n));const i=a.map((t=>{try{const o=((e,t)=>{const{fromRow:o,fromCol:c,toRow:a,toCol:r}=t,s=e[o][c],l=e[a][r];let n=0;l&&(n+=2*F[l.type]);const i=U[s.type]["white"===s.color?o:7-o][c];n+=.5*(U[s.type]["white"===s.color?a:7-a][r]-i),n+=.2*(7-(Math.abs(3.5-a)+Math.abs(3.5-r))),"pawn"===s.type&&(n+=.5*("white"===s.color?7-a:a),("white"===s.color&&a<=1||"black"===s.color&&a>=6)&&(n+=5));return"king"===s.type&&(n-=2),"knight"!==s.type&&"bishop"!==s.type||!("white"===s.color&&7===o||"black"===s.color&&0===o)||(n+=1),n})(e,t);return{...t,score:o}}catch(o){return console.error("Error evaluating move:",o),{...t,score:0}}}));i.sort(((e,o)=>"white"===t?o.score-e.score:e.score-o.score));const h="easy"===c?5:"medium"===c?3:2,u=i.slice(0,Math.min(h,i.length)),d=u[Math.floor(Math.random()*u.length)];return z.set(l,d),z.size>1e3&&z.clear(),d}catch(a){console.error("Error finding best move:",a);try{const c=[];for(let a=0;a<8;a++)for(let r=0;r<8;r++){const s=e[a][r];if(s&&s.color===t)for(let t=0;t<8;t++)for(let s=0;s<8;s++)A(e,a,r,t,s,o)&&c.push({fromRow:a,fromCol:r,toRow:t,toCol:s})}if(c.length>0)return c[Math.floor(Math.random()*c.length)]}catch(r){console.error("Error in fallback move generation:",r)}return null}},Z=(e,t,o,c)=>{try{const a=Date.now(),r=2e3;let s=c;"hard"===c&&e.flat().filter(Boolean).length>20&&(s="medium");const l=X(e,t,o,s);if(Date.now()-a>r){console.warn("AI move calculation took too long, returning a simpler move");const c=[];for(let a=0;a<8;a++)for(let r=0;r<8;r++){const s=e[a][r];if(s&&s.color===t)for(let t=0;t<8;t++)for(let s=0;s<8;s++)A(e,a,r,t,s,o)&&c.push({fromRow:a,fromCol:r,toRow:t,toCol:s})}if(c.length>0)return c[Math.floor(Math.random()*c.length)]}return l}catch(a){return console.error("Error in AI move calculation:",a),null}};var _=function(){const[e,t]=Object(c.useState)(R()),[o,a]=Object(c.useState)(null),[r,s]=Object(c.useState)("white"),[l,n]=Object(c.useState)("ongoing"),[i,h]=Object(c.useState)([]),[u,d]=Object(c.useState)({enPassantTarget:null,castlingRights:{white:{kingSide:!0,queenSide:!0},black:{kingSide:!0,queenSide:!0}}}),[b,m]=Object(c.useState)([]),[g,f]=Object(c.useState)(null),[j,p]=Object(c.useState)("medium"),[w,v]=Object(c.useState)(!1),[O,C]=Object(c.useState)(null),[y,$]=Object(c.useState)(null),[T,E]=Object(c.useState)("classic"),[B,I]=Object(c.useState)(!1),H=Object(c.useRef)(null),D=Object(c.useCallback)(((e,t,o,c,a,r,s)=>{const l=["a","b","c","d","e","f","g","h"];let n="";return"pawn"!==e.type&&(n+=e.type.charAt(0).toUpperCase()),"pawn"===e.type&&r&&(n+=l[o]),r&&(n+="x"),n+=l[a]+["8","7","6","5","4","3","2","1"][c],s&&(n+="="+s.charAt(0).toUpperCase()),n}),[]),J=Object(c.useCallback)((function(o,c,r,l){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const i=e[o][c],{board:b,gameState:g,capturedPiece:f}=W(e,o,c,r,l,u,n);t(b),d(g);const j={from:{row:o,col:c},to:{row:r,col:l},piece:i,capturedPiece:f,notation:D(i,o,c,r,l,f,n),color:i.color};h((e=>[...e,j])),s((e=>"white"===e?"black":"white")),a(null),m([]),v(!1),C(null)}),[e,u,D]);Object(c.useEffect)((()=>{H.current=J}),[J]);const F=Object(c.useCallback)((()=>{"black"!==r||"ongoing"!==l||B||(I(!0),setTimeout((()=>{try{const t=Z(e,"black",u,j);if(t){const{fromRow:o,fromCol:c,toRow:a,toCol:r}=t,s=e[o][c];G(s,a)?H.current(o,c,a,r,"queen"):H.current(o,c,a,r)}else{const t=[];for(let o=0;o<8;o++)for(let c=0;c<8;c++){const a=e[o][c];if(a&&"black"===a.color)for(let r=0;r<8;r++)for(let a=0;a<8;a++)A(e,o,c,r,a,u)&&t.push({fromRow:o,fromCol:c,toRow:r,toCol:a})}if(t.length>0){const e=t[Math.floor(Math.random()*t.length)],{fromRow:o,fromCol:c,toRow:a,toCol:r}=e;H.current(o,c,a,r)}}}catch(t){console.error("Error in AI move calculation:",t)}finally{I(!1)}}),300))}),[e,r,l,u,j,B]);Object(c.useEffect)((()=>{let e=null;return"black"!==r||"ongoing"!==l||B||(e=setTimeout((()=>{F()}),500)),()=>{e&&clearTimeout(e)}}),[r,l,F,B]),Object(c.useEffect)((()=>{if(i.length>0){const t=P(e,"white"),o=P(e,"black");t?(f("white"),L(e,"white",u)&&n("Checkmate! Black wins.")):o?(f("black"),L(e,"black",u)&&n("Checkmate! White wins.")):f(null),("white"===r&&K(e,"white",u)||"black"===r&&K(e,"black",u))&&n("Draw by stalemate")}}),[e,r,i,u]);const U=Object(c.useMemo)((()=>{if(!o)return[];const t=[];for(let c=0;c<8;c++)for(let a=0;a<8;a++)A(e,o.row,o.col,c,a,u)&&t.push({row:c,col:a});return t}),[o,e,u]);Object(c.useEffect)((()=>{m(U)}),[U]),Object(c.useCallback)((e=>{switch(e){case"pawn":default:return"";case"knight":return"N";case"bishop":return"B";case"rook":return"R";case"queen":return"Q";case"king":return"K"}}),[]);const z=Object(c.useCallback)(((t,c)=>{if("ongoing"!==l||y)return;if("white"!==r)return;const s=e[t][c];if(o){if(o.row===t&&o.col===c)return void a(null);if(s&&s.color===r)return void a({row:t,col:c,piece:s});if(A(e,o.row,o.col,t,c,u)){if(G(o.piece,t)){const e=document.querySelector(".chess-board").getBoundingClientRect(),a=e.width/8;return void $({fromRow:o.row,fromCol:o.col,toRow:t,toCol:c,position:{x:e.left+c*a+a/2,y:e.top+t*a+a/2}})}J(o.row,o.col,t,c)}}else s&&s.color===r&&a({row:t,col:c,piece:s})}),[e,u,l,J,r,y,o]),Q=Object(c.useCallback)((e=>{if(!y)return;const{fromRow:t,fromCol:o,toRow:c,toCol:a}=y;J(t,o,c,a,e),$(null)}),[J,y]),Y=Object(c.useCallback)((()=>{t(R()),a(null),s("white"),n("ongoing"),h([]),d({enPassantTarget:null,castlingRights:{white:{kingSide:!0,queenSide:!0},black:{kingSide:!0,queenSide:!0}}}),m([]),f(null),v(!1),C(null),$(null)}),[]),V=Object(c.useCallback)((e=>{p(e),Y()}),[Y]),X=Object(c.useCallback)((()=>{if("white"===r&&"ongoing"===l){const t=Z(e,"white",u,2);t&&(v(!0),C(t))}}),[e,u,l,r]),_=Object(c.useCallback)((e=>{E(e),localStorage.setItem("chessTheme",e)}),[]);Object(c.useEffect)((()=>{const e=localStorage.getItem("chessTheme");e&&S[e]&&E(e)}),[]);const ee=Object(c.useMemo)((()=>i.length>0?i[i.length-1]:null),[i]),te=Object(c.useMemo)((()=>S[T]),[T]);return Object(k.jsxs)("div",{className:"app",children:[Object(k.jsxs)("div",{className:"app-header",children:[Object(k.jsx)("h1",{children:"AI Chess"}),Object(k.jsx)("div",{className:"author-credits",children:Object(k.jsx)("span",{children:"Created by Aditya Thakkar"})})]}),Object(k.jsxs)("div",{className:"difficulty-selector",children:[Object(k.jsx)("span",{className:"difficulty-label",children:"AI Difficulty:"}),Object(k.jsxs)("div",{className:"difficulty-buttons",children:[Object(k.jsx)("button",{className:"difficulty-button "+("easy"===j?"active":""),onClick:()=>V("easy"),children:"Easy"}),Object(k.jsx)("button",{className:"difficulty-button "+("medium"===j?"active":""),onClick:()=>V("medium"),children:"Medium"}),Object(k.jsx)("button",{className:"difficulty-button "+("hard"===j?"active":""),onClick:()=>V("hard"),children:"Hard"})]})]}),Object(k.jsx)(q,{currentTheme:T,onThemeChange:_}),Object(k.jsxs)("div",{className:"game-container",children:[Object(k.jsx)(x,{board:e,selectedPiece:o,onSquareClick:z,highlightedSquares:b,checkIndicator:g,lastMove:ee,hintMove:w?O:null,theme:te}),Object(k.jsx)(M,{playerTurn:r,gameStatus:l,moveHistory:i,onResetGame:Y,isInCheck:null!==g,aiDifficulty:j,onGetHint:X,aiThinking:B})]}),y&&Object(k.jsx)(N,{position:y.position,color:"white",onSelect:Q,onCancel:()=>$(null)}),Object(k.jsx)("div",{className:"app-footer",children:Object(k.jsxs)("div",{className:"footer-content",children:[Object(k.jsx)("p",{children:"Chess AI with Minimax Algorithm & Alpha-Beta Pruning"}),Object(k.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," AI Chess by Aditya Thakkar"]})]})})]})};s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(_,{})}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.033754e6.chunk.js.map